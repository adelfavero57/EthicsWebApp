{% extends "base.html" %}


{% block others %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'managelist/style.css' %}">
 {% endblock %}


 {% block js %}
<script>

  $('document').ready(function(){

    $('#search').keyup(function(e){
      
      let csrftoken = '{{ csrf_token }}'
       
       $.ajax({
         type : 'POST',
         headers:{'X-CSRFToken':csrftoken},
         url: "{% url 'managelist' %}",
         data: {
             'search_text': $('#search').val()
  
         }
       });
     });
  });

  

//   function searchFunc() {
//   // Declare variables

//   var input, filter, table, tr, td, i, txtValue;
//   input = document.getElementById("search");
//   filter = input.value.toUpperCase();
//   table = document.getElementById('applicationlist')
//   applications = '{{application}}'

//   console.log(applications)
//   // Loop through all table rows, and hide those who don't match the search query
// //   for (i = 0; i < table.rows.length; i++) {
    
// //     txtValue = applications.objects.all().project_name;
// //     if (txtValue.toUpperCase().indexOf(filter) > -1) {
// //         tr[i].style.display = "";
// //       } else {
// //         tr[i].style.display = "none";Â·
// //       }
// //     i = i + 1;
// //   }
//  }
</script>
 {% endblock %}



{% block content %}

    <h1> Application </h1>

      
      <input type="text" id = "search" 
      name = "search_item" placeholder="Search..">
      
    
  

        <table class = "applicationlist">
            <tr class = "thead">
              <th>Id</th>
              <th>Project Title</th>
              <th>Edit</th>
              <th>Delete</th>
            </tr>
            {% for item in applications %}
            <tr class = "tbody">
                <td>{{item.id}}</td>
                <td>{{item.title}}</td>
                
                <td><a href="#">Edit</a></td>
                <td>
                  <a href = "{% url 'delete' item.id %}">Delete</a>
                </td>
            </tr>
            {% endfor %}


          </table>
    

        <div class = "start">

          <a href="#"><button>Start the quiz</button></a>

        </div>

{% endblock %}